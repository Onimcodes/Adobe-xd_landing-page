(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8726],{78800:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossDomainConnection=void 0;t.CrossDomainConnection=class{constructor(e,t,n,r,o){this.config=t,this._listen(e,n,r),this._post=(t,o)=>{e.postMessage({type:"event",endpoint:t,args:o,secret:r},n)},this.handshake=o,this.remoteOrigin=n}_listen(e,t,n){const{config:r}=this,o=o=>{const{origin:s,data:i,source:a}=o;if(a===e&&s===t&&i.secret===n&&"event"===i.type){const e=r.receive[i.endpoint];if(!e)throw new Error(`xdm: no handler for endpoint: ${i.endpoint}`);try{e(...i.args)}catch(c){throw new Error(c)}}};window.addEventListener("message",o),this.listener=o}close(){window.removeEventListener("message",this.listener)}send(e,...t){if(!Object.prototype.hasOwnProperty.call(this.config.send,e))throw new Error(`no handler for endpoint: ${e}`);const n=this.config.send[e];let r=t;return"function"===typeof n&&(r=n(...r)),this._post(e,r)}}},54106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(45104);Object.defineProperty(t,"CrossDomainHost",{enumerable:!0,get:function(){return r.CrossDomainHost}});var o=n(39358);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return o.connect}})},93988:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Url=void 0;const r=n(49758);t.Url={buildUrl:r.buildUrl,parseSimpleQuery:r.parseSimpleQuery,parseUrl:r.parseUrl,parseLocation:r.parseLocation};var o=n(16585);Object.defineProperty(t,"encodeToken",{enumerable:!0,get:function(){return o.encodeToken}}),Object.defineProperty(t,"decodeToken",{enumerable:!0,get:function(){return o.decodeToken}}),Object.defineProperty(t,"randomToken",{enumerable:!0,get:function(){return o.randomToken}})},16585:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeToken=t.encodeToken=t.randomToken=void 0;const n=2147483647;function r(e,t){return s(o(i(e),i(t)))}function o(e,t){return e^t}function s(e){return e.toString(36)}function i(e){return parseInt(e,36)}t.randomToken=function(){return s(function(){if(window.crypto){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]%n}const e=Math.floor(Math.random()*n);return o(Math.abs(Date.now()%n),e)}())},t.encodeToken=function(e,t){return r(e,t)},t.decodeToken=function(e,t){return r(e,t)}},49758:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16682);Object.defineProperty(t,"parseUrl",{enumerable:!0,get:function(){return r.parseUrl}}),Object.defineProperty(t,"parseLocation",{enumerable:!0,get:function(){return r.parseLocation}}),Object.defineProperty(t,"parseSimpleQuery",{enumerable:!0,get:function(){return r.parseSimpleQuery}});var o=n(85208);Object.defineProperty(t,"buildUrl",{enumerable:!0,get:function(){return o.buildUrl}})},85208:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildUrl=void 0;const r=n(16682);t.buildUrl=function e(t,n){if("string"===typeof t)return e(r.parseUrl(t),n);const o=u("?",t.search,n&&n.search),s=u("#",t.hash,n&&n.hash),{origin:i,pathname:a}=t,{origin:c=!0}=n;return c?`${i}${a}${o}${s}`:`${a}${o}${s}`;function u(e,t,n){const r=n&&Object.keys(n);return n&&r.length>0?(t?`${t}&`:e)+r.map((e=>[e,n[e]].map(encodeURIComponent).join("="))).join("&"):t}}},16682:function(e,t,n){"use strict";var r=n(34155),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseSimpleQuery=t.parseLocation=t.parseUrl=void 0;const s=o(n(10861));function i(e){const{hash:t,href:n,search:r}=e;return{hash:t,host:u(e),href:n,origin:a(e),pathname:p(e),protocol:c(e),search:r}}function a(e){return`${c(e)}//${u(e)}`}function c(e){const{protocol:t}=e;if(t)return t;const[,n]=/^([^:]+:)\/\//.exec(e.href);return n}function u(e){const{host:t}=e;if(t){const[e]=t.split(":");return e}const[,n]=/^[^:]+:\/\/([^/?#]*)/.exec(e.href),[r]=n.split(":");return r}function p(e){const{pathname:t}=e;return"/"!==t[0]?`/${t}`:t}t.parseUrl=function(e){if(r.server){const{hash:t="",host:n="",href:r="",pathname:o="",protocol:i="",search:a=""}=s.default.URL(e);return{hash:t||"",host:n||"",href:r||"",origin:`${i}//${n}`||"",pathname:o||"",protocol:i||"",search:a||""}}const t=document.createElement("a");return t.href=e,i(t)},t.parseLocation=i,t.parseSimpleQuery=function(e){const t={};return e.replace(/^[#?]/,"").split("&").forEach((e=>{const n=function(e,t){if("string"===typeof t){const n=e.indexOf(t);if(n>=0)return[e.slice(0,n),e.slice(n+t.length)]}else if(t instanceof RegExp){const n=t.exec(e);return[e.slice(0,n.index),e.slice(n.index+n[0].length)]}return[e]}(e,"=").map(decodeURIComponent);if(2===n.length){const[e,r]=n;t[e]=r}})),t}},45104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CrossDomainHost=void 0;const r=n(78800),o=n(93988),{parseUrl:s,buildUrl:i}=o.Url;t.CrossDomainHost=class{constructor(e){this.options=e}load(e,t,n,r){this.unload(),this.iframe=e,this._connect(e,t,n,r)}_connect(e,t,n={},a){const c=s(t),{origin:u}=c,{handshake:p=null,timeout:l}=n,h=o.randomToken(),f=o.randomToken(),d=o.encodeToken(h,f);this.connecting=function(e,t,n){const{origin:o,secret:s,otp:i,handshake:a,timeout:c}=t,{iframe:u,options:{endpoints:p}}=e,l=[];let h=!1;const f=(e,t)=>{if(h)return;h=!0,l.forEach((e=>e()));const i=e?null:new r.CrossDomainConnection(u.contentWindow,p,o,s,t);n&&n(e,i)},d=()=>{if(u.removeEventListener("load",d),l.push(function(e,t,n,r,o){const{iframe:s}=e,i=setInterval((()=>{try{s.contentWindow.postMessage({type:"handshake",otp:n,handshake:r},t)}catch(e){o(e)}}),100);return()=>clearInterval(i)}(e,o,i,a,f)),l.push(function(e,t,n,r){const{iframe:o}=e,s=({origin:i,source:a,data:c})=>{i===t&&a===o.contentWindow&&c&&"handshake"===c.type&&c.secret===n&&(window.removeEventListener("message",s),e.iframe!==o&&r(new Error("interrupted")),r(null,c.handshake))};return window.addEventListener("message",s),()=>window.removeEventListener("message",s)}(e,o,s,f)),c){const e=setTimeout((()=>f("timeout",null)),c);l.push((()=>clearTimeout(e)))}};return u.addEventListener("load",d),l.push((()=>u.removeEventListener("load",d))),f}(this,{origin:u,secret:h,otp:f,handshake:p,timeout:l},a),e.src=i(c,{search:Object.assign({},n&&n.search),hash:Object.assign(Object.assign({},n&&n.hash),{"xdm-otp-secret":d})})}unload(){const{iframe:e,connecting:t}=this;return this.iframe=null,this.connecting=null,e?(e.src="about:blank",t&&t(new Error("unload")),e):null}}},39358:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(t){s(t)}}function a(e){try{c(r.throw(e))}catch(t){s(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;const o=n(78800),s=n(93988),{parseSimpleQuery:i}=s.Url;t.connect=function(e){return r(this,void 0,void 0,(function*(){const{timeout:t,handshake:n}=e,{"xdm-otp-secret":r}=i(window.location.hash);if(!r)throw new Error("no secret");window.location.hash="";const{origin:a,otp:c,source:u,handshake:p}=yield function(e){let t;return function(e,t){return e.then(t,t),e}(new Promise(((n,r)=>{const o=({source:e,origin:t,data:r})=>{if(e===window.parent){const{type:o,otp:s,handshake:i}=r;"handshake"===o&&n({origin:t,otp:s,source:e,handshake:i})}};window.addEventListener("message",o),t=()=>window.removeEventListener("message",o),e&&setTimeout((()=>r(new Error("timeout"))),e)})),t)}(t),l=s.decodeToken(r,c),h="function"===typeof n?n(p):n;return u.postMessage({type:"handshake",secret:l,handshakeResponse:h},a),new o.CrossDomainConnection(u,e,a,l,p)}))}},41164:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerProvider=void 0;var s=o(n(67294)),i=n(90236);t.LoggerProvider=function(e){return s.default.createElement(i.LoggerContext.Provider,r({},e))}},90236:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerContext=void 0;var o=r(n(67294)),s=n(21665);t.LoggerContext=o.default.createContext(s.dummy)},21665:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.dummy=void 0;var o=n(13551);t.dummy=r(r({},o.dummyLogger),{child:function(){return t.dummy}})},17103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLogger=void 0;var r=n(67294),o=n(90236);t.useLogger=function(){return r.useContext(o.LoggerContext)}},85686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(90236);Object.defineProperty(t,"LoggerContext",{enumerable:!0,get:function(){return r.LoggerContext}});var o=n(17103);Object.defineProperty(t,"useLogger",{enumerable:!0,get:function(){return o.useLogger}});var s=n(41164);Object.defineProperty(t,"LoggerProvider",{enumerable:!0,get:function(){return s.LoggerProvider}})},10861:function(e,t,n){var r,o=(r=n(17673))&&"object"==typeof r&&"default"in r?r.default:r,s=/https?|ftp|gopher|file/;function i(e){"string"==typeof e&&(e=b(e));var t=function(e,t,n){var r=e.auth,o=e.hostname,s=e.protocol||"",i=e.pathname||"",a=e.hash||"",c=e.query||"",u=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?u=r+e.host:o&&(u=r+(~o.indexOf(":")?"["+o+"]":o),e.port&&(u+=":"+e.port)),c&&"object"==typeof c&&(c=t.encode(c));var p=e.search||c&&"?"+c||"";return s&&":"!==s.substr(-1)&&(s+=":"),e.slashes||(!s||n.test(s))&&!1!==u?(u="//"+(u||""),i&&"/"!==i[0]&&(i="/"+i)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),p&&"?"!==p[0]&&(p="?"+p),{protocol:s,host:u,pathname:i=i.replace(/[?#]/g,encodeURIComponent),search:p=p.replace("#","%23"),hash:a}}(e,o,s);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var a="http://",c="w.w",u=a+c,p=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,l=/https?|ftp|gopher|file/;function h(e,t){var n="string"==typeof e?b(e):e;e="object"==typeof e?i(e):e;var r=b(t),o="";n.protocol&&!n.slashes&&(o=n.protocol,e=e.replace(n.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&r.protocol&&(o="",r.slashes||(o=r.protocol,t=t.replace(r.protocol,"")));var s=e.match(p);s&&!r.protocol&&(e=e.substr((o=s[1]+(s[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var c=new URL(e,u+"/"),h=new URL(t,c).toString().replace(u,""),f=r.protocol||n.protocol;return f+=n.slashes||r.slashes?"//":"",!o&&f?h=h.replace(a,f):o&&(h=h.replace(a,"")),l.test(h)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==h.slice(-1)||(h=h.slice(0,-1)),o&&(h=o+("/"===h[0]?h.substr(1):h)),h}function f(){}f.prototype.parse=b,f.prototype.format=i,f.prototype.resolve=h,f.prototype.resolveObject=h;var d=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,g=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,v=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function b(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e&&"object"==typeof e&&e instanceof f)return e;var r=(e=e.trim()).match(m);e=r?r[1].replace(/\\/g,"/")+r[2]:e.replace(/\\/g,"/"),y.test(e)&&"/"!==e.slice(-1)&&(e+="/");var s=!/(^javascript)/.test(e)&&e.match(g),a=v.test(e),p="";s&&(d.test(s[1])||(p=s[1].toLowerCase(),e=""+s[2]+s[3]),s[2]||(a=!1,d.test(s[1])?(p=s[1],e=""+s[3]):e="//"+s[3]),3!==s[2].length&&1!==s[2].length||(p=s[1],e="/"+s[3]));var l,h=(r?r[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),b=h&&h[1],w=new f,_="",j="";try{l=new URL(e)}catch(o){_=o,p||n||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(j="/",e=e.substr(1));try{l=new URL(e,u)}catch(e){return w.protocol=p,w.href=p,w}}w.slashes=a&&!j,w.host=l.host===c?"":l.host,w.hostname=l.hostname===c?"":l.hostname.replace(/(\[|\])/g,""),w.protocol=_?p||null:l.protocol,w.search=l.search.replace(/\\/g,"%5C"),w.hash=l.hash.replace(/\\/g,"%5C");var O=e.split("#");!w.search&&~O[0].indexOf("?")&&(w.search="?"),w.hash||""!==O[1]||(w.hash="#"),w.query=t?o.decode(l.search.substr(1)):w.search.substr(1),w.pathname=j+(s?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(l.pathname):l.pathname),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),_&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),p&&!d.test(p)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[l.username,l.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=l.port,b&&!w.host.endsWith(b)&&(w.host+=b,w.port=b.slice(1)),w.href=j?""+w.pathname+w.search+w.hash:i(w);var C=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach((function(e){~C.indexOf(e)||(w[e]=w[e]||null)})),w}t.parse=b,t.format=i,t.resolve=h,t.resolveObject=function(e,t){return b(h(e,t))},t.Url=f},62587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,o){n=n||"&",r=r||"=";var s={};if("string"!==typeof e||0===e.length)return s;var i=/\+/g;e=e.split(n);var a=1e3;o&&"number"===typeof o.maxKeys&&(a=o.maxKeys);var c=e.length;a>0&&c>a&&(c=a);for(var u=0;u<c;++u){var p,l,h,f,d=e[u].replace(i,"%20"),m=d.indexOf(r);m>=0?(p=d.substr(0,m),l=d.substr(m+1)):(p=d,l=""),h=decodeURIComponent(p),f=decodeURIComponent(l),t(s,h)?Array.isArray(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s}},12361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,o){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(o){var s=encodeURIComponent(t(o))+r;return Array.isArray(e[o])?e[o].map((function(e){return s+encodeURIComponent(t(e))})).join(n):s+encodeURIComponent(t(e[o]))})).join(n):o?encodeURIComponent(t(o))+r+encodeURIComponent(t(e)):""}},17673:function(e,t,n){"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},13551:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dummyLogger=void 0,t.dummyLogger={trace:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}}}}]);